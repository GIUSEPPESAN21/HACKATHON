===============================================================================
  ESTRUCTURA FINAL DEL PROYECTO - SAVA Agro-Insight PRO v2.0
===============================================================================

Agro Software/
â”‚
â”œâ”€â”€ ğŸ“‹ ARCHIVOS PRINCIPALES
â”‚   â”œâ”€â”€ main.py                          â­ EJECUTA ESTE ARCHIVO (streamlit run main.py)
â”‚   â”œâ”€â”€ requirements.txt                 ğŸ“¦ Dependencias (pip install -r requirements.txt)
â”‚   â”œâ”€â”€ README.md                        ğŸ“š DocumentaciÃ³n completa
â”‚   â”œâ”€â”€ INICIO_RAPIDO.md                 ğŸš€ GuÃ­a de 5 minutos
â”‚   â”œâ”€â”€ ESTRUCTURA.txt                   ğŸ“ Este archivo
â”‚   â”œâ”€â”€ LICENSE                          ğŸ“œ Licencia MIT
â”‚   â””â”€â”€ .gitignore                       ğŸ”’ Archivos ignorados por Git
â”‚
â”œâ”€â”€ ğŸ§© MÃ“DULOS (src/)
â”‚   â”œâ”€â”€ __init__.py                      ğŸ”§ InicializaciÃ³n del paquete
â”‚   â”‚
â”‚   â”œâ”€â”€ âš¡ OPTIMIZACIÃ“N
â”‚   â”œâ”€â”€ cache_manager.py                 ğŸ’¾ Sistema de cachÃ© SQLite (-70% API)
â”‚   â”œâ”€â”€ gemini_client.py                 ğŸ¤– Cliente Gemini optimizado
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ†• NUEVAS FUNCIONALIDADES
â”‚   â”œâ”€â”€ geo_mapper.py                    ğŸ—ºï¸ Mapas geogrÃ¡ficos interactivos
â”‚   â”œâ”€â”€ chatbot_rag.py                   ğŸ’¬ Chatbot IA con RAG
â”‚   â”œâ”€â”€ trend_analyzer.py                ğŸ“ˆ AnÃ¡lisis de tendencias ML
â”‚   â”œâ”€â”€ alert_system.py                  ğŸ”” Sistema de alertas inteligentes
â”‚   â”œâ”€â”€ export_manager.py                ğŸ“„ ExportaciÃ³n PDF/Excel
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ UTILIDADES
â”‚       â”œâ”€â”€ utils.py                     ğŸ› ï¸ Carga y validaciÃ³n de CSV
â”‚       â””â”€â”€ firebase_manager.py          â˜ï¸ Persistencia en Firebase
â”‚
â”œâ”€â”€ âš™ï¸ CONFIGURACIÃ“N (.streamlit/)
â”‚   â”œâ”€â”€ secrets.toml.example             ğŸ“‹ Plantilla de configuraciÃ³n
â”‚   â””â”€â”€ secrets.toml                     ğŸ” TUS CLAVES (crear manualmente)
â”‚
â”œâ”€â”€ ğŸ§ª TESTING (tests/)
â”‚   â””â”€â”€ test_sentiment.py                âœ… Pruebas unitarias
â”‚
â””â”€â”€ ğŸ“¦ CACHÃ‰ (se crea automÃ¡ticamente)
    â””â”€â”€ cache/
        â””â”€â”€ sentiment_cache.db           ğŸ’¾ Base de datos SQLite (auto-generado)

===============================================================================
  ARCHIVOS CLAVE - QUÃ‰ HACE CADA UNO
===============================================================================

ğŸ“± INTERFAZ:
   main.py                    â†’ AplicaciÃ³n web con 9 pestaÃ±as
                                 1. AnÃ¡lisis CSV
                                 2. Noticias en Vivo  
                                 3. Mapa GeogrÃ¡fico
                                 4. Chatbot IA
                                 5. Tendencias
                                 6. Alertas
                                 7. Dashboard
                                 8. Exportar
                                 9. Historial

ğŸ¤– ANÃLISIS DE SENTIMIENTO:
   gemini_client.py           â†’ ConexiÃ³n con Gemini AI
                                 - AnÃ¡lisis individual
                                 - AnÃ¡lisis batch smart
                                 - BÃºsqueda web
                                 - CachÃ© integrado

ğŸ’¾ OPTIMIZACIÃ“N:
   cache_manager.py           â†’ Sistema de cachÃ© SQLite
                                 - Evita re-analizar noticias
                                 - Ahorra 60-80% de API
                                 - EstadÃ­sticas de uso

ğŸ—ºï¸ MAPAS:
   geo_mapper.py              â†’ Mapas interactivos con Folium
                                 - UbicaciÃ³n de noticias
                                 - Mapa de calor de riesgos
                                 - Clustering geogrÃ¡fico

ğŸ’¬ CHATBOT:
   chatbot_rag.py             â†’ Chatbot inteligente
                                 - BÃºsqueda semÃ¡ntica (TF-IDF)
                                 - Respuestas contextuales
                                 - Preguntas sugeridas

ğŸ“ˆ ANÃLISIS AVANZADO:
   trend_analyzer.py          â†’ Machine Learning
                                 - Ãndice de Riesgo
                                 - Ãndice de Oportunidades
                                 - Palabras clave
                                 - Clustering temÃ¡tico
                                 - Predicciones

ğŸ”” ALERTAS:
   alert_system.py            â†’ Alertas automÃ¡ticas
                                 - Alertas crÃ­ticas
                                 - Palabras clave peligrosas
                                 - Zonas de riesgo
                                 - Recomendaciones

ğŸ“„ EXPORTACIÃ“N:
   export_manager.py          â†’ Reportes profesionales
                                 - PDF con grÃ¡ficos
                                 - Excel con mÃºltiples hojas
                                 - Formato empresarial

ğŸ› ï¸ UTILIDADES:
   utils.py                   â†’ Carga de CSV
                                 - ValidaciÃ³n de columnas
                                 - Mapeo inteligente
                                 - Limpieza de datos

â˜ï¸ PERSISTENCIA:
   firebase_manager.py        â†’ Firebase Firestore
                                 - Guardar anÃ¡lisis
                                 - Consultar historial
                                 - Batch operations

===============================================================================
  ARCHIVOS QUE DEBES CREAR MANUALMENTE
===============================================================================

1. .streamlit/secrets.toml
   
   Copia secrets.toml.example y renÃ³mbralo a secrets.toml
   
   Contenido mÃ­nimo:
   ```toml
   GEMINI_API_KEY = "tu_api_key_aqui"
   ```

   ObtÃ©n tu API key en: https://makersuite.google.com/app/apikey

===============================================================================
  COMANDOS ESENCIALES
===============================================================================

1. INSTALAR:
   pip install -r requirements.txt

2. EJECUTAR:
   streamlit run main.py

3. LIMPIAR CACHÃ‰:
   - Usa el botÃ³n en el sidebar de la app
   - O elimina manualmente: cache/sentiment_cache.db

===============================================================================
  TAMAÃ‘OS APROXIMADOS
===============================================================================

CÃ³digo fuente:         ~15 KB
Dependencias:          ~500 MB (despuÃ©s de instalar)
CachÃ© (vacÃ­o):         ~5 KB
CachÃ© (100 noticias):  ~50 KB
CachÃ© (1000 noticias): ~500 KB

===============================================================================
  MÃ‰TRICAS DE OPTIMIZACIÃ“N
===============================================================================

SIN CACHÃ‰ (primera vez):
   100 noticias â†’ 100 llamadas API â†’ ~3 minutos â†’ $0.08

CON CACHÃ‰ (70% hit rate):
   100 noticias â†’ 30 llamadas API â†’ ~1 minuto â†’ $0.06
   
RE-ANÃLISIS (100% cache):
   100 noticias â†’ 0 llamadas API â†’ <1 segundo â†’ $0.00

AHORRO PROMEDIO: -70%

===============================================================================
  FLUJO DE TRABAJO RECOMENDADO
===============================================================================

1. Primera vez:
   - Instalar dependencias
   - Configurar secrets.toml
   - Ejecutar main.py
   - Probar con 5-10 noticias

2. Uso diario:
   - Activar cachÃ© (sidebar)
   - Analizar noticias
   - Explorar mapa y tendencias
   - Exportar reportes si necesario

3. Mantenimiento mensual:
   - Limpiar cachÃ© antiguo (>30 dÃ­as)
   - Actualizar dependencias si hay nuevas versiones

===============================================================================
  SOLUCIÃ“N RÃPIDA DE PROBLEMAS
===============================================================================

PROBLEMA: "No module named 'streamlit'"
SOLUCIÃ“N: pip install -r requirements.txt

PROBLEMA: "GEMINI_API_KEY not found"
SOLUCIÃ“N: Crear .streamlit/secrets.toml con tu API key

PROBLEMA: "Permission denied: cache/"
SOLUCIÃ“N: Crear carpeta cache/ manualmente

PROBLEMA: Consume mucha API
SOLUCIÃ“N: Activar cachÃ© en sidebar

===============================================================================
  VERSIÃ“N Y AUTOR
===============================================================================

Proyecto:  SAVA Agro-Insight PRO
VersiÃ³n:   2.0.0
Fecha:     Noviembre 2025
Autor:     SAVA Software Team
Licencia:  MIT

===============================================================================
  SOPORTE
===============================================================================

DocumentaciÃ³n: README.md, INICIO_RAPIDO.md
CÃ³digo:        Todos los archivos estÃ¡n comentados
Issues:        GitHub Issues (si aplica)

===============================================================================

Â¡Disfruta usando SAVA Agro-Insight PRO v2.0! ğŸŒ±

